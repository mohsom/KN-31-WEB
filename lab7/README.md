# Лабораторна робота 7 - REST API для колекції музеїв

## Мета роботи

Створити Node.js-проєкт з REST API для керування колекцією музеїв з використанням Express.js та JSON файлу як бази даних.

## Опис програми

REST API для управління колекцією музеїв з наступними можливостями:

- **Структура музею:**
  - `id` - унікальний ідентифікатор
  - `name` - назва музею
  - `country` - країна

- **CRUD операції:**
  - `GET /api/museums` - отримати всі музеї
  - `GET /api/museums/:id` - отримати музей за ID
  - `POST /api/museums` - додати новий музей
  - `PUT /api/museums/:id` - оновити музей
  - `DELETE /api/museums/:id` - видалити музей

- **Клієнтський інтерфейс:**
  - Перегляд списку музеїв
  - Додавання нових музеїв
  - Редагування музеїв
  - Видалення музеїв
  - Фільтрація музеїв за країною

- **Структура коду:**
  - Маршрути винесені в окремий файл `routes/museums.js`
  - Логіка роботи з файлами в `utils/fileHandler.js`
  - Обробка помилок через try-catch

## Структура проєкту

```
lab7/
├── app.js                  # Основний файл сервера
├── package.json            # Залежності та конфігурація
├── data/
│   └── museums.json       # JSON файл з даними
├── routes/
│   └── museums.js         # Маршрути для API
├── utils/
│   └── fileHandler.js     # Функції для роботи з файлами
├── README.md              # Документація
└── public/                # Статичні файли
    ├── index.html         # Головна сторінка
    ├── style.css          # Стилі
    └── script.js          # JavaScript для роботи з API
```

## Встановлення та запуск

### Вимоги

- Node.js (версія 12 або вище)
- npm

### Кроки встановлення

```bash
# Перейти в папку lab7
cd lab7

# Встановити залежності
npm install

# Запустити сервер
npm start
```

Після запуску сервер буде доступний за адресою: `http://localhost:3000`

## API Документація

### GET /api/museums

Отримати всі музеї.

**Відповідь:**
```json
[
  {
    "id": 1,
    "name": "Louvre",
    "country": "France"
  }
]
```

### GET /api/museums/:id

Отримати музей за ID.

**Параметри:**
- `id` - ID музею

**Відповідь:**
```json
{
  "id": 1,
  "name": "Louvre",
  "country": "France"
}
```

### POST /api/museums

Додати новий музей.

**Тіло запиту:**
```json
{
  "name": "Louvre",
  "country": "France"
}
```

**Відповідь:**
```json
{
  "id": 1,
  "name": "Louvre",
  "country": "France"
}
```

### PUT /api/museums/:id

Оновити музей.

**Параметри:**
- `id` - ID музею

**Тіло запиту:**
```json
{
  "name": "Louvre Museum",
  "country": "France"
}
```

**Відповідь:**
```json
{
  "id": 1,
  "name": "Louvre Museum",
  "country": "France"
}
```

### DELETE /api/museums/:id

Видалити музей.

**Параметри:**
- `id` - ID музею

**Відповідь:**
```json
{
  "message": "Музей видалено",
  "museum": {
    "id": 1,
    "name": "Louvre",
    "country": "France"
  }
}
```

## Особливості реалізації

- Використання try-catch для обробки помилок при роботі з файлами
- Структурований код з розділенням маршрутів та логіки
- Валідація даних перед збереженням
- Автоматичне створення папки data, якщо вона не існує
- Безпечне екранування HTML у клієнтському коді

## Автор

Скальський Володимир

